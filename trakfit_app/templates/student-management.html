{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Management - TrakFit</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    {% load static %}

    <style>
      :root {
        --primary-blue: #4a90a4;
        --sidebar-blue: #3a7ca5;
        --light-blue: #9ec5e5;
        --card-bg: #ffffff;
        --text-dark: #2c3e50;
        --text-light: #7f8c8d;
        --border-color: #e5e7eb;
      }

      body {
        margin: 0;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: #fafafa;
      }

      .dashboard-container {
        display: flex;
        min-height: 100vh;
      }

      /* Sidebar Styles */
      .sidebar {
        width: 250px;
        background: var(--sidebar-blue) 100%;
        color: white;
        padding: 2rem 0;
        position: fixed;
        height: 100vh;
        overflow-y: auto;
      }

      .brand-section {
        display: flex;
        align-items: center;
        padding: 0 2rem;
        margin-bottom: 3rem;
      }

      /* TrakFit logo */
      .brand-logo {
        width: 65px;
        height: 65px;
        background: white;
        border-radius: 50%;
        margin-right: 1rem;
      }

      .brand-name {
        font-size: 1.5rem;
        font-weight: 700;
      }

      .nav-menu {
        padding: 0 1rem;
      }

      .nav-item {
        margin-bottom: 0.5rem;
      }

      .nav-link {
        display: block;
        padding: 1rem 1rem;
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
        border-radius: 12px;
        transition: all 0.3s ease;
        font-weight: 500;
      }

      .nav-link:hover,
      .nav-link.active {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        transform: translateX(5px);
        border-radius: 30px;
      }

      .sidebar-illustration {
        position: absolute;
        left: 50%;
        bottom: 130px;
        transform: translateX(-50%);
        width: 250px;
        height: 100px;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        opacity: 0.9;
      }

      .sidebar-illustration img {
        width: 250px;
      }

      /* Main Content */
      .main-content {
        flex: 1;
        margin-left: 250px;
        padding: 1.5rem;
      }

      .top-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
      }

      .page-title {
        font-size: 3rem;
        color: #2c3e50;
        margin: 0;
      }

      .user-section {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .notification-icon {
        width: 40px;
        height: 40px;
        background: #f8f9fa;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--text-light);
        font-size: 1.2rem;
      }

      .user-avatar-container {
        position: relative;
      }

      .user-avatar {
        width: 60px;
        height: 60px;
        background: #d9d9d9;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .user-avatar:hover {
        transform: scale(1.05);
      }

      .profile-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
      }

      .dropdown-profile-image {
        width: 20px;
        height: 20px;
        object-fit: cover;
        border-radius: 50%;
      }

      /* Profile Dropdown */
      .profile-dropdown {
        position: absolute;
        top: 50px;
        right: 0;
        background: white;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        width: 180px;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.3s ease;
        padding: 8px 0;
      }

      .profile-dropdown.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }

      .dropdown-item {
        padding: 12px 16px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        cursor: pointer;
        transition: background-color 0.2s ease;
        font-size: 14px;
        color: #374151;
      }

      .dropdown-item:hover {
        background-color: #f9fafb;
      }

      .view-profile-item {
        font-weight: 500;
        justify-content: flex-start;
        gap: 12px;
      }

      .dropdown-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
      }

      .dark-mode-item {
        cursor: default;
      }

      .logout-item {
        color: #6b7280;
        display: flex;
        align-items: center;
      }

      .logout-item:hover {
        background-color: #f9fafb;
      }

      .logout-icon {
        font-size: 16px;
        color: #6b7280;
        margin-right: 8px;
      }

      .dropdown-divider {
        height: 1px;
        background-color: #e5e7eb;
        margin: 8px 0;
      }

      /* Toggle Switch */
      .toggle-switch {
        flex-shrink: 0;
      }

      .toggle-switch input[type="checkbox"] {
        display: none;
      }

      .slider {
        width: 36px;
        height: 20px;
        background-color: #d1d5db;
        border-radius: 20px;
        display: inline-block;
        position: relative;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .slider:before {
        content: "";
        position: absolute;
        width: 16px;
        height: 16px;
        background-color: white;
        border-radius: 50%;
        top: 2px;
        left: 2px;
        transition: transform 0.3s ease;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .toggle-switch input[type="checkbox"]:checked + .slider {
        background-color: #3b82f6;
      }

      .toggle-switch input[type="checkbox"]:checked + .slider:before {
        transform: translateX(16px);
      }

      /* Search and Controls */
      .controls-section {
        margin-bottom: 10px;
        margin-left: 1rem;
      }

      .search-container {
        position: relative;
        width: 20vw;
      }

      .search-input {
        height: 4vh;
        width: 100%;
        padding: 0.75rem 1rem 0.75rem 2.5rem;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        font-size: 0.95rem;
        background: #f9fafb;
      }

      .search-icon {
        position: absolute;
        left: 0.75rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-light);
      }

      .controls-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 500;
      }

      .left-controls {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.8rem;
      }

      .select-dropdown {
        padding: 0.5rem 2rem 0.5rem 0.75rem;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        background: white;
        font-size: 0.9rem;
        cursor: pointer;
      }

      .right-controls {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .control-btn {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        background: white;
        color: var(--text-dark);
        text-decoration: none;
        font-size: 0.9rem;
        transition: all 0.2s ease;
      }

      .control-btn:hover {
        background: #f3f4f6;
        color: var(--text-dark);
      }

      .pagination-info {
        font-size: 0.9rem;
      }

      /* Student Table */
      .student-table-container {
        background: var(--card-bg);
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        height: 82vh;
        overflow-y: scroll;
      }

      .student-table {
        width: 100%;
        border-collapse: collapse;
      }

      .student-table th {
        background: #f9fafb;
        padding: 1rem;
        font-weight: 600;
        color: var(--text-dark);
        border-bottom: 1px solid var(--border-color);
        font-size: 0.85rem;
      }

      .student-table td {
        padding: 1rem;
        border-bottom: 1px solid #f0f0f0;
        vertical-align: middle;
      }

      .student-table tr:hover {
        background: #f9fafb;
      }

      .student-row {
        cursor: pointer;
        transition: background-color 0.2s ease;
      }

      .student-row:hover {
        background: #f0f9ff !important;
      }

      .student-checkbox {
        width: 16px;
        height: 16px;
        cursor: pointer;
      }

      .student-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #e5e7eb;
      }

      .student-info {
        display: flex;
        align-items: center;
      }

      .student-name {
        font-weight: 600;
        color: var(--text-dark);
        margin: 0;
      }

      .student-section {
        color: var(--text-light);
        font-size: 0.85rem;
      }

      .student-labelInfo {
        color: var(--text-dark);
        font-weight: 500;
      }

      .student-email {
        color: var(--text-light);
        font-size: 0.9rem;
      }

      .student-label {
        display: block;
        font-size: 0.75rem;
        color: var(--text-light);
        margin-bottom: 2px;
      }

      @media (max-width: 768px) {
        .sidebar {
          transform: translateX(-100%);
        }

        .main-content {
          margin-left: 0;
        }
      }
    </style>
  </head>
  <body>
    <div class="dashboard-container">
      <!-- Sidebar -->
      <div class="sidebar">
        <div class="brand-section">
          <div class="brand-logo"></div>
          <span class="brand-name">TrakFit</span>
        </div>

        <div class="nav-menu">
          <div class="nav-item">
            <a href="{% url 'teacher_dashboard' %}" class="nav-link"
              >Dashboard</a
            >
          </div>
          <div class="nav-item">
            <a href="{% url 'student_management' %}" class="nav-link active"
              >Student Management</a
            >
          </div>
          <div class="nav-item">
            <a href="#" class="nav-link">Settings</a>
          </div>
        </div>

        <div class="sidebar-illustration">
          <img src="{% static 'sidebar.png' %}" />
        </div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Top Bar -->
        <div class="top-bar">
          <h1 class="page-title">Student Management</h1>
          <div class="user-section">
            <div class="notification-icon">
              <i
                class="fa-regular fa-bell"
                style="font-size: 2rem; padding-right: 1rem"
              ></i>
            </div>
            <div class="user-avatar-container">
              <div class="user-avatar" onclick="toggleProfileDropdown()">
                <img
                  src="{% static 'profile.png' %}"
                  alt="Profile"
                  class="profile-image"
                />
              </div>
              <!-- Profile Dropdown -->
              <div class="profile-dropdown" id="profileDropdown">
                <div
                  class="dropdown-item view-profile-item"
                  onclick="viewProfile()"
                >
                  <span>View Profile</span>
                </div>
                <div class="dropdown-divider"></div>
                <div class="dropdown-item dark-mode-item">
                  <span>Dark mode</span>
                  <div class="toggle-switch">
                    <input
                      type="checkbox"
                      id="darkModeToggle"
                      onchange="toggleDarkMode()"
                    />
                    <label for="darkModeToggle" class="slider"></label>
                  </div>
                </div>
                <div class="dropdown-divider"></div>
                <div class="dropdown-item logout-item" onclick="logout()">
                  <span>Logout ></span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Controls Section -->
        <div class="controls-section">
          {#
          <div class="search-container">
            #} {# <i class="fas fa-search search-icon"></i>#} {#
            <input type="text" class="search-input" placeholder="Search" />#} {#
          </div>
          #}

          <div class="controls-row">
            <div class="left-controls">
              <label
                style="
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  gap: 1rem;
                "
              >
                <input
                  type="checkbox"
                  class="student-checkbox"
                  id="select-all"
                />
              </label>
              <i class="fa-solid fa-angle-down"></i>
              <label>Select All</label>
            </div>
            <div class="right-controls">
              <a
                href="#"
                class="control-btn"
                style="background-color: #fafafa; border: none"
              >
                <i class="fas fa-chart-bar"></i>
                Generate Report
              </a>
              <label> | </label>
              <a
                href="#"
                class="control-btn"
                style="background-color: #fafafa; border: none"
              >
                <i class="fas fa-filter"></i>
                Filter
              </a>
              <label> | </label>
              {# Optional yung flip ng pages #}
              <span class="pagination-info">1-50 of 150</span>
              <div style="display: flex; gap: 0.25rem">
                <button
                  class="control-btn"
                  style="
                    padding: 0.5rem;
                    border-radius: 50px;
                    background-color: #ebebeb;
                    margin: 0 0.5rem;
                  "
                >
                  <i class="fas fa-chevron-left"></i>
                </button>
                <button
                  class="control-btn"
                  style="
                    padding: 0.5rem;
                    border-radius: 50px;
                    background-color: #ebebeb;
                  "
                >
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
              <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Search" />
              </div>
            </div>
          </div>
        </div>

        <!-- Student Table -->
        <div class="student-table-container">
          <table class="student-table">
            <thead>
              <tr>
                <th style="width: 20px"></th>
                <th style="width: 20px"></th>
                <th style="text-align: left">Name</th>
                <th style="width: 50px; text-align: center">Age</th>
                <th style="width: 175px; text-align: center">Sex</th>
                <th style="width: 200px; text-align: center">Email</th>
                <th style="width: 300px; text-align: center">Last Update</th>
              </tr>
            </thead>
            <tbody id="student-table-body">
              {#
              <tr class="student-row" data-student-id="1">
                #} {#
                <td>
                  <input
                    type="checkbox"
                    class="student-checkbox"
                    onclick="event.stopPropagation()"
                  />
                </td>
                #} {#
                <td>
                  #} {#
                  <div class="student-avatar"></div>
                  #} {#
                </td>
                #} {#
                <td>
                  #} {#
                  <div class="student-info">
                    #} {#
                    <div>
                      #} {#
                      <h6 class="student-name">Juan D. Dela Cruz</h6>
                      #} {#
                      <div class="student-section">BSIT 1A-G1</div>
                      #} {#
                    </div>
                    #} {#
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Age</span>#} {#
                  <span class="student-labelInfo">21</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Sex</span>#} {#
                  <span class="student-labelInfo">Male</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Email</span>#} {#
                  <div class="student-labelInfo">juandelacruz@gmail.com</div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Last Update</span>#} {#
                  <div class="student-labelInfo">3 Hours Ago</div>
                  #} {#
                </td>
                #} {#
              </tr>
              #} {##} {#
              <tr class="student-row" data-student-id="2">
                #} {#
                <td>
                  <input
                    type="checkbox"
                    class="student-checkbox"
                    onclick="event.stopPropagation()"
                  />
                </td>
                #} {#
                <td><div class="student-avatar"></div></td>
                #} {#
                <td>
                  #} {#
                  <div class="student-info">
                    #} {#
                    <div>
                      #} {#
                      <h6 class="student-name">Maria Santos</h6>
                      #} {#
                      <div class="student-section">BSIT 1A-G1</div>
                      #} {#
                    </div>
                    #} {#
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Age</span>#} {#
                  <span class="student-labelInfo">20</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Sex</span>#} {#
                  <span class="student-labelInfo">Female</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Email</span>#} {#
                  <div class="student-labelInfo">maria.santos@gmail.com</div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Last Update</span>#} {#
                  <div class="student-labelInfo">1 Hour Ago</div>
                  #} {#
                </td>
                #} {#
              </tr>
              #} {##} {#
              <tr class="student-row" data-student-id="3">
                #} {#
                <td>
                  <input
                    type="checkbox"
                    class="student-checkbox"
                    onclick="event.stopPropagation()"
                  />
                </td>
                #} {#
                <td><div class="student-avatar"></div></td>
                #} {#
                <td>
                  #} {#
                  <div class="student-info">
                    #} {#
                    <div>
                      #} {#
                      <h6 class="student-name">Carlos Rodriguez</h6>
                      #} {#
                      <div class="student-section">BSIT 1A-G2</div>
                      #} {#
                    </div>
                    #} {#
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Age</span>#} {#
                  <span class="student-labelInfo">22</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Sex</span>#} {#
                  <span class="student-labelInfo">Male</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Email</span>#} {#
                  <div class="student-labelInfo">
                    carlos.rodriguez@gmail.com
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Last Update</span>#} {#
                  <div class="student-labelInfo">Yesterday</div>
                  #} {#
                </td>
                #} {#
              </tr>
              #} {##} {#
              <tr class="student-row" data-student-id="4">
                #} {#
                <td>
                  <input
                    type="checkbox"
                    class="student-checkbox"
                    onclick="event.stopPropagation()"
                  />
                </td>
                #} {#
                <td><div class="student-avatar"></div></td>
                #} {#
                <td>
                  #} {#
                  <div class="student-info">
                    #} {#
                    <div>
                      #} {#
                      <h6 class="student-name">Ana Gutierrez</h6>
                      #} {#
                      <div class="student-section">BSIT 1B-G1</div>
                      #} {#
                    </div>
                    #} {#
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Age</span>#} {#
                  <span class="student-labelInfo">19</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Sex</span>#} {#
                  <span class="student-labelInfo">Female</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Email</span>#} {#
                  <div class="student-labelInfo">ana.gutierrez@gmail.com</div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Last Update</span>#} {#
                  <div class="student-labelInfo">5 Hours Ago</div>
                  #} {#
                </td>
                #} {#
              </tr>
              #} {##} {#
              <tr class="student-row" data-student-id="5">
                #} {#
                <td>
                  <input
                    type="checkbox"
                    class="student-checkbox"
                    onclick="event.stopPropagation()"
                  />
                </td>
                #} {#
                <td><div class="student-avatar"></div></td>
                #} {#
                <td>
                  #} {#
                  <div class="student-info">
                    #} {#
                    <div>
                      #} {#
                      <h6 class="student-name">Miguel Fernandez</h6>
                      #} {#
                      <div class="student-section">BSIT 1B-G2</div>
                      #} {#
                    </div>
                    #} {#
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Age</span>#} {#
                  <span class="student-labelInfo">21</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Sex</span>#} {#
                  <span class="student-labelInfo">Male</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Email</span>#} {#
                  <div class="student-labelInfo">
                    miguel.fernandez@gmail.com
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Last Update</span>#} {#
                  <div class="student-labelInfo">2 Days Ago</div>
                  #} {#
                </td>
                #} {#
              </tr>
              #} {##} {#
              <tr class="student-row" data-student-id="6">
                #} {#
                <td>
                  <input
                    type="checkbox"
                    class="student-checkbox"
                    onclick="event.stopPropagation()"
                  />
                </td>
                #} {#
                <td><div class="student-avatar"></div></td>
                #} {#
                <td>
                  #} {#
                  <div class="student-info">
                    #} {#
                    <div>
                      #} {#
                      <h6 class="student-name">Sofia Martinez</h6>
                      #} {#
                      <div class="student-section">BSIT 1C-G1</div>
                      #} {#
                    </div>
                    #} {#
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Age</span>#} {#
                  <span class="student-labelInfo">20</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Sex</span>#} {#
                  <span class="student-labelInfo">Female</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Email</span>#} {#
                  <div class="student-labelInfo">sofia.martinez@gmail.com</div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Last Update</span>#} {#
                  <div class="student-labelInfo">4 Days Ago</div>
                  #} {#
                </td>
                #} {#
              </tr>
              #} {##} {#
              <tr class="student-row" data-student-id="7">
                #} {#
                <td>
                  <input
                    type="checkbox"
                    class="student-checkbox"
                    onclick="event.stopPropagation()"
                  />
                </td>
                #} {#
                <td><div class="student-avatar"></div></td>
                #} {#
                <td>
                  #} {#
                  <div class="student-info">
                    #} {#
                    <div>
                      #} {#
                      <h6 class="student-name">Sofia Martinez</h6>
                      #} {#
                      <div class="student-section">BSIT 1C-G1</div>
                      #} {#
                    </div>
                    #} {#
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Age</span>#} {#
                  <span class="student-labelInfo">20</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Sex</span>#} {#
                  <span class="student-labelInfo">Female</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Email</span>#} {#
                  <div class="student-labelInfo">sofia.martinez@gmail.com</div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Last Update</span>#} {#
                  <div class="student-labelInfo">4 Days Ago</div>
                  #} {#
                </td>
                #} {#
              </tr>
              #} {#
              <tr class="student-row" data-student-id="8">
                #} {#
                <td>
                  <input
                    type="checkbox"
                    class="student-checkbox"
                    onclick="event.stopPropagation()"
                  />
                </td>
                #} {#
                <td><div class="student-avatar"></div></td>
                #} {#
                <td>
                  #} {#
                  <div class="student-info">
                    #} {#
                    <div>
                      #} {#
                      <h6 class="student-name">Sofia Martinez</h6>
                      #} {#
                      <div class="student-section">BSIT 1C-G1</div>
                      #} {#
                    </div>
                    #} {#
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Age</span>#} {#
                  <span class="student-labelInfo">20</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Sex</span>#} {#
                  <span class="student-labelInfo">Female</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Email</span>#} {#
                  <div class="student-labelInfo">sofia.martinez@gmail.com</div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Last Update</span>#} {#
                  <div class="student-labelInfo">4 Days Ago</div>
                  #} {#
                </td>
                #} {#
              </tr>
              #} {#
              <tr class="student-row" data-student-id="9">
                #} {#
                <td>
                  <input
                    type="checkbox"
                    class="student-checkbox"
                    onclick="event.stopPropagation()"
                  />
                </td>
                #} {#
                <td><div class="student-avatar"></div></td>
                #} {#
                <td>
                  #} {#
                  <div class="student-info">
                    #} {#
                    <div>
                      #} {#
                      <h6 class="student-name">Sofia Martinez</h6>
                      #} {#
                      <div class="student-section">BSIT 1C-G1</div>
                      #} {#
                    </div>
                    #} {#
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Age</span>#} {#
                  <span class="student-labelInfo">20</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Sex</span>#} {#
                  <span class="student-labelInfo">Female</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Email</span>#} {#
                  <div class="student-labelInfo">sofia.martinez@gmail.com</div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Last Update</span>#} {#
                  <div class="student-labelInfo">4 Days Ago</div>
                  #} {#
                </td>
                #} {#
              </tr>
              #} {#
              <tr class="student-row" data-student-id="10">
                #} {#
                <td>
                  <input
                    type="checkbox"
                    class="student-checkbox"
                    onclick="event.stopPropagation()"
                  />
                </td>
                #} {#
                <td><div class="student-avatar"></div></td>
                #} {#
                <td>
                  #} {#
                  <div class="student-info">
                    #} {#
                    <div>
                      #} {#
                      <h6 class="student-name">Sofia Martinez</h6>
                      #} {#
                      <div class="student-section">BSIT 1C-G1</div>
                      #} {#
                    </div>
                    #} {#
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Age</span>#} {#
                  <span class="student-labelInfo">20</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Sex</span>#} {#
                  <span class="student-labelInfo">Female</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Email</span>#} {#
                  <div class="student-labelInfo">sofia.martinez@gmail.com</div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Last Update</span>#} {#
                  <div class="student-labelInfo">4 Days Ago</div>
                  #} {#
                </td>
                #} {#
              </tr>
              #} {#
              <tr class="student-row" data-student-id="11">
                #} {#
                <td>
                  <input
                    type="checkbox"
                    class="student-checkbox"
                    onclick="event.stopPropagation()"
                  />
                </td>
                #} {#
                <td><div class="student-avatar"></div></td>
                #} {#
                <td>
                  #} {#
                  <div class="student-info">
                    #} {#
                    <div>
                      #} {#
                      <h6 class="student-name">Sofia Martinez</h6>
                      #} {#
                      <div class="student-section">BSIT 1C-G1</div>
                      #} {#
                    </div>
                    #} {#
                  </div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Age</span>#} {#
                  <span class="student-labelInfo">20</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Sex</span>#} {#
                  <span class="student-labelInfo">Female</span>#} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Email</span>#} {#
                  <div class="student-labelInfo">sofia.martinez@gmail.com</div>
                  #} {#
                </td>
                #} {#
                <td style="text-align: center">
                  #} {# <span class="student-label">Last Update</span>#} {#
                  <div class="student-labelInfo">4 Days Ago</div>
                  #} {#
                </td>
                #} {#
              </tr>
              #}
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'dummyStudentData.js' %}"></script>
    <script>
      // Select all functionality
      const selectAll = document.querySelector('#select-all');
      const checkboxes = document.querySelectorAll('tbody input[type="checkbox"]');

      // When the "Select All" checkbox is toggled
      selectAll.addEventListener('change', function() {
          checkboxes.forEach(checkbox => {
              checkbox.checked = this.checked;
          });
      });

      // When any individual checkbox is changed
      checkboxes.forEach(checkbox => {
          checkbox.addEventListener('change', function() {
              // If even one checkbox is unchecked → uncheck "Select All"
              if (!this.checked) {
                  selectAll.checked = false;
              } else {
                  // If all checkboxes are checked → check "Select All"
                  selectAll.checked = Array.from(checkboxes).every(cb => cb.checked);
              }
          });
      });

      {#// Search functionality#}
      {#document.querySelector('.search-input').addEventListener('input', function() {#}
      {#    const searchTerm = this.value.toLowerCase();#}
      {#    const rows = document.querySelectorAll('tbody tr');#}
      {#    #}
      {#    rows.forEach(row => {#}
      {#        const studentName = row.querySelector('.student-name').textContent.toLowerCase();#}
      {#        const studentSection = row.querySelector('.student-section').textContent.toLowerCase();#}
      {#        const studentEmail = row.querySelector('.student-email').textContent.toLowerCase();#}
      {#        #}
      {#        if (studentName.includes(searchTerm) || #}
      {#            studentSection.includes(searchTerm) || #}
      {#            studentEmail.includes(searchTerm)) {#}
      {#            row.style.display = '';#}
      {#        } else {#}
      {#            row.style.display = 'none';#}
      {#        }#}
      {#    });#}
      {#});#}

      {#// Student row click functionality#}
      {#document.querySelectorAll('.student-row').forEach(row => {#}
      {#    row.addEventListener('click', function() {#}
      {#        const studentId = this.getAttribute('data-student-id');#}
      {#        window.location.href = `/student-profile/${studentId}/`;#}
      {#    });#}
      {#});#}

      // Profile Dropdown Functions
      function toggleProfileDropdown() {
          const dropdown = document.getElementById("profileDropdown");
          dropdown.classList.toggle("show");
      }

      // Close dropdown when clicking outside
      document.addEventListener("click", function (event) {
          const dropdown = document.getElementById("profileDropdown");
          const userAvatarContainer = document.querySelector(".user-avatar-container");

          if (userAvatarContainer && !userAvatarContainer.contains(event.target)) {
              dropdown.classList.remove("show");
          }
      });

      function viewProfile() {
          alert("View Profile clicked - This would navigate to profile page");
          document.getElementById("profileDropdown").classList.remove("show");
      }

      function toggleDarkMode() {
          const toggle = document.getElementById("darkModeToggle");
          toggle.checked = !toggle.checked;

          if (toggle.checked) {
              document.body.classList.add("dark-mode");
              alert("Dark mode enabled - This would apply dark theme");
          } else {
              document.body.classList.remove("dark-mode");
              alert("Dark mode disabled - This would apply light theme");
          }
      }

      function logout() {
          if (confirm("Are you sure you want to log out?")) {
              window.location.href = "/";
          }
      }
    </script>
  </body>
</html>
