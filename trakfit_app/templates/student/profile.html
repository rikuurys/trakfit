{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrakFit - Pre-Test Entry</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;700&family=Albert+Sans:wght@400;600&family=Atkinson+Hyperlegible:wght@400&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <style>
        :root {
            --primary-color: #3A7CA5;
            --light-blue: #9EC5E5;
            --dark-text: #2C3E50;
            --light-bg: #FAFAFA;
            --input-bg: #F3F3F3;
        }

        body {
            font-family: 'Sarabun', sans-serif;
            background-color: var(--light-bg);
            overflow-x: hidden;
        }

        .main-content {
            margin-left: 400px;
            padding: 20px;
            min-height: 100vh;
        }

        .brand-font {
            font-family: 'Albert Sans', sans-serif;
        }

        .form-container {
            background: #FAFAFA;
            box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);
            border-radius: 54px;
            padding: 40px;
        }

        .form-section-title {
            color: black;
            font-size: 1.5rem;
            font-family: 'Albert Sans', sans-serif;
            font-weight: 400;
            margin-bottom: 1.5rem;
        }

        .form-label {
            color: black;
            font-size: 1.25rem;
            font-family: 'Sarabun', sans-serif;
            font-weight: 300;
            margin-bottom: 0.5rem;
        }

        .form-input {
            background: #F3F3F3;
            border-radius: 20px;
            border: 1px solid #A2C4D9;
            height: 57px;
            font-size: 1.25rem;
            padding: 0 20px;
        }

        .form-input::placeholder {
            color: rgba(0, 0, 0, 0.50);
            font-size: 1.25rem;
            font-family: 'Sarabun', sans-serif;
            font-weight: 400;
        }

        .unit-badge {
            background: #9EC5E5;
            box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);
            border-radius: 15px;
            padding: 8px 16px;
            color: black;
            font-size: 1.25rem;
            font-family: 'Sarabun', sans-serif;
            font-weight: 800;
        }

        .save-btn {
            background: #3A7CA5;
            box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);
            border-radius: 40px;
            color: white;
            font-size: 1.4rem;
            font-family: 'Albert Sans', sans-serif;
            font-weight: 600;
            padding: 12px 40px;
            border: none;
        }

        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
        }

        .info-text {
            color: black;
            font-size: 1.5rem;
            font-family: 'Atkinson Hyperlegible', sans-serif;
            font-weight: 400;
        }

        @media (max-width: 1400px) {
            .main-content {
                margin-left: 350px;
            }
        }

        @media (max-width: 1200px) {
            .main-content {
                margin-left: 300px;
            }

            @media (max-width: 992px) {
                .sidebar-illustration img {
                    max-width: 200px !important;
                }

                .main-content {
                    margin-left: 0;
                }

                .form-container {
                    padding: 20px;
                    border-radius: 30px;
                }
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    {% include 'student/sidebar.html' %}

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h1 class="brand-font mb-2" style="font-size: 2.5rem; font-weight: 700; color: var(--primary-color);">Pre-Test Entry</h1>
                <p class="info-text mb-0">This Pre-Test form is submitted once. Updates happen in Post-Test</p>
            </div>
            <div class="d-flex align-items-center">
                <div class="me-3" style="opacity: 0.50;">
                    <div style="width: 33.33px; height: 41.67px; background: #1D1B20;"></div>
                </div>
                <img src="{% static '' %}" alt="User Avatar" class="user-avatar">
            </div>
        </div>

        <!-- Form Container -->
        <div class="form-container">
            <form>
                <!-- Body Metrics Section -->
                <div class="mb-5">
                    <h3 class="form-section-title">Body Metrics</h3>

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <label class="form-label">Height</label>
                            <div class="position-relative">
                                <input type="text" class="form-control form-input" placeholder="Enter value...">
                                <div class="position-absolute top-50 end-0 translate-middle-y me-3">
                                    <span class="unit-badge">cm</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Weight</label>
                            <div class="position-relative">
                                <input type="text" class="form-control form-input" placeholder="Enter value...">
                                <div class="position-absolute top-50 end-0 translate-middle-y me-3">
                                    <span class="unit-badge">kg</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">
                            <label class="form-label">BMI (auto)</label>
                            <input type="text" class="form-control form-input" placeholder="Auto" readonly>
                        </div>
                    </div>
                </div>

                <!-- VO2 Max Section -->
                <div class="mb-5">
                    <h3 class="form-section-title">VO<sub>2</sub> Max (Copper 12-min)</h3>

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <label class="form-label">Distance Covered</label>
                            <div class="position-relative">
                                <input type="text" class="form-control form-input" placeholder="Enter value...">
                                <div class="position-absolute top-50 end-0 translate-middle-y me-3">
                                    <span class="unit-badge">m</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">VO<sub>2</sub> Max (auto)</label>
                            <div class="position-relative">
                                <input type="text" class="form-control form-input" placeholder="Enter value...">
                                <div class="position-absolute top-50 end-0 translate-middle-y me-3">
                                    <span class="unit-badge">ml/kg</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Fitness Profile Section -->
                <div class="mb-5">
                    <h3 class="form-section-title">Fitness Profile (Pre-Test)</h3>

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <label class="form-label">Flexibility</label>
                            <div class="position-relative">
                                <input type="text" class="form-control form-input" placeholder="Enter value...">
                                <div class="position-absolute top-50 end-0 translate-middle-y me-3">
                                    <span class="unit-badge">cm</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Strength (push-ups)</label>
                            <div class="position-relative">
                                <input type="text" class="form-control form-input" placeholder="Enter value...">
                                <div class="position-absolute top-50 end-0 translate-middle-y me-3">
                                    <span class="unit-badge">reps</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <label class="form-label">Agility Test</label>
                            <div class="position-relative">
                                <input type="text" class="form-control form-input" placeholder="Enter value...">
                                <div class="position-absolute top-50 end-0 translate-middle-y me-3">
                                    <span class="unit-badge">sec</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Speed (40m)</label>
                            <div class="position-relative">
                                <input type="text" class="form-control form-input" placeholder="Enter value...">
                                <div class="position-absolute top-50 end-0 translate-middle-y me-3">
                                    <span class="unit-badge">sec</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">
                            <label class="form-label">Endurance (1.5km)</label>
                            <div class="position-relative">
                                <input type="text" class="form-control form-input" placeholder="Enter value...">
                                <div class="position-absolute top-50 end-0 translate-middle-y me-3">
                                    <span class="unit-badge">mm : ss</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Save Button -->
                <div class="text-center mt-5">
                    <button type="submit" class="save-btn">Save Pre -Test</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Navigation active state
        document.addEventListener('DOMContentLoaded', function() {
            const navItems = document.querySelectorAll('.nav-item');

            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    navItems.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Auto-calculate BMI when height and weight are entered
            const heightInput = document.querySelector('input[placeholder="Enter value..."]');
            const weightInput = document.querySelectorAll('input[placeholder="Enter value..."]')[1];
            const bmiInput = document.querySelector('input[placeholder="Auto"]');

            function calculateBMI() {
                const height = parseFloat(heightInput.value) / 100; // Convert cm to m
                const weight = parseFloat(weightInput.value);

                if (height && weight) {
                    const bmi = (weight / (height * height)).toFixed(1);
                    bmiInput.value = bmi;
                }
            }

            heightInput.addEventListener('input', calculateBMI);
            weightInput.addEventListener('input', calculateBMI);
        });
    </script>
</body>
</html>